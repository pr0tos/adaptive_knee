<mujoco model="leg_prosthesis_model">
    <option timestep = "0.001"/>
    
    <visual>
        <headlight diffuse="0.4 0.4 0.4" ambient="0.2 0.2 0.2" specular="0 0 0"/>
        <rgba haze="0.1 0.1 0.1 1"/>
        <global azimuth="150" elevation="-20"/>
    </visual>

     <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072"/>
        <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.8 0.8 0.8" rgb2="0.4 0.4 0.4"
        markrgb="0.8 0.8 0.8" width="300" height="300"/>
        <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/>
    </asset>
    
    <default>
        <joint axis="0 1 0"/>
        <geom type="capsule" size=".01" rgba=".9 .7 .1 1"/>
        <default class="joint">
            <geom type="cylinder" fromto="0 .015 0 0 -.015 0" size=".02" rgba=".3 .9 .3 .4"/>
        </default>
    </default>

    <worldbody>
        
        <light pos="0 0 3" dir="0 0 -1" directional="false"/>
        
        <geom name="floor" type="plane" size="10 10 0.1" pos="0 0 -2" 
              rgba="0.6 0.6 0.6 1" condim="3"/>

        <body name = 'hip' pos="0 0 0">
            <joint name = 'q1' damping = '1'/>
            <geom name="g1" class="joint"/>
            <geom name = 'l1' fromto="0 0 0 0 0 -.40" size=".1" rgba=".8 .7 .54 1"/>
            <geom name = 'l1_con' type="cylinder" fromto="0 0 -.40 0 0 -.55" size=".025" rgba=".8 .7 .54 1"/>
            <!-- Масса бедра -->
            <inertial mass="5" pos="0 0 -0.275" diaginertia="0.06 0.06 0.02"/>
            <body name = 'knee_module' pos="0 0 -.55">
                <joint name = 'q2' damping = '0.01' range="0 71"/>
                <geom name="p_act" type="cylinder" fromto="0 .04 0 0 -.04 0" size=".05" rgba=".5 .5 .5 1"/>
                <geom name = 'p_main' type="cylinder" fromto="0 0 0 0 0 -.15" size=".04" rgba=".5 .5 .5 1"/>
                <site name="p_act" size='0.01 0.01 0.01' pos='0 0 0'/>
                <site name="imu" size='0.01 0.01 0.01' pos='0 0 -0.10'/>
                <!-- Масса колена -->
                <inertial mass="2.0" pos="0 0 -0.075" diaginertia="0.02 0.02 0.01"/>
                <body name = 'carrier_module' pos="0 0 -.15">
                    <geom name = 'carrier_module' fromto="0 0 0 0 0 -.40" size=".02" rgba=".8 .8 .8 1"/> 
                    <!-- Масса носителя -->
                    <inertial mass="0.8" pos="0 0 -0.2" diaginertia="0.01 0.01 0.005"/>
                    <body name = 'foot' pos="0 0 -0.40">
                        <geom name = 'foot' type='box' pos="0.125 0 0" size="0.135 0.05 0.025" rgba=".1 .1 .1 1"/>  
                        <!-- Масса стопы -->
                        <inertial mass="1" pos="0.125 0 0" diaginertia="0.005 0.01 0.008"/>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>

    <actuator>
        <position name="pos_q1" joint="q1" ctrllimited="true" ctrlrange="-0.7 0.436332" kp="5000" kv="100"/>
        <position name="pos_q2" joint="q2" ctrllimited="true" ctrlrange="0 1.22173" kp="20" kv="0.1"/>
    </actuator>
</mujoco>